// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: http_response.sql

package gen

import (
	"context"

	idwrap "the-dev-tools/server/pkg/idwrap"
)

const getHTTPResponseAssertsByHttpID = `-- name: GetHTTPResponseAssertsByHttpID :many
SELECT hra.id, hra.response_id, hra.value, hra.success, hra.created_at
FROM http_response_assert hra
JOIN http_response hr ON hra.response_id = hr.id
WHERE hr.http_id = ?
ORDER BY hra.created_at DESC
`

func (q *Queries) GetHTTPResponseAssertsByHttpID(ctx context.Context, httpID idwrap.IDWrap) ([]HttpResponseAssert, error) {
	rows, err := q.query(ctx, q.getHTTPResponseAssertsByHttpIDStmt, getHTTPResponseAssertsByHttpID, httpID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []HttpResponseAssert{}
	for rows.Next() {
		var i HttpResponseAssert
		if err := rows.Scan(
			&i.ID,
			&i.ResponseID,
			&i.Value,
			&i.Success,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getHTTPResponseHeadersByHttpID = `-- name: GetHTTPResponseHeadersByHttpID :many
SELECT hrh.id, hrh.response_id, hrh.key, hrh.value, hrh.created_at
FROM http_response_header hrh
JOIN http_response hr ON hrh.response_id = hr.id
WHERE hr.http_id = ?
ORDER BY hrh.created_at DESC
`

func (q *Queries) GetHTTPResponseHeadersByHttpID(ctx context.Context, httpID idwrap.IDWrap) ([]HttpResponseHeader, error) {
	rows, err := q.query(ctx, q.getHTTPResponseHeadersByHttpIDStmt, getHTTPResponseHeadersByHttpID, httpID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []HttpResponseHeader{}
	for rows.Next() {
		var i HttpResponseHeader
		if err := rows.Scan(
			&i.ID,
			&i.ResponseID,
			&i.Key,
			&i.Value,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
