// Generated by Microsoft TypeSpec

syntax = "proto3";

package workspace.v1;

import "google/protobuf/timestamp.proto";
import "environment/v1.proto";
import "google/protobuf/empty.proto";

option go_package = "dev-tools-spec/dist/buf/go/workspace/v1;workspacev1";

message Workspace {
  bytes workspaceId = 1;
  string name = 2;
  google.protobuf.Timestamp updated = 3;
  environment.v1.Environment environment = 4;
}

enum MemberRole {
  MEMBER_ROLE_UNSPECIFIED = 0;
  MEMBER_ROLE_BASIC = 1;
  MEMBER_ROLE_ADMIN = 2;
  MEMBER_ROLE_OWNER = 3;
}

message WorkspaceMember {
  bytes memberId = 2;
  string email = 3;
  MemberRole role = 4;
}

message ListWorkspacesItem {
  bytes workspaceId = 1;
  string name = 2;
  google.protobuf.Timestamp updated = 3;
}

message ListWorkspacesRequest {}

message ListWorkspacesResponse {
  repeated ListWorkspacesItem items = 1;
}

message GetWorkspaceRequest {
  bytes workspaceId = 1;
}

message GetWorkspaceResponse {
  bytes workspaceId = 1;
  string name = 2;
  google.protobuf.Timestamp updated = 3;
  environment.v1.Environment environment = 4;
}

message CreateWorkspaceRequest {
  string name = 2;
}

message CreateWorkspaceResponse {
  bytes workspaceId = 1;
}

message UpdateWorkspaceRequest {
  bytes workspaceId = 1;
  string name = 2;
}

message UpdateWorkspaceResponse {}

message DeleteWorkspaceRequest {
  bytes workspaceId = 1;
}

message DeleteWorkspaceResponse {}

message SetWorkspaceEnvironmentRequest {
  bytes workspaceId = 1;
  bytes environmentId = 2;
}

message SetWorkspaceEnvironmentResponse {}

message ListWorkspaceMembersItem {
  bytes memberId = 2;
  string email = 3;
  MemberRole role = 4;
}

message ListWorkspaceMembersRequest {
  bytes workspaceId = 1;
}

message ListWorkspaceMembersResponse {
  repeated ListWorkspaceMembersItem items = 1;
}

message CreateWorkspaceMemberRequest {
  bytes workspaceId = 1;
  string email = 3;
  MemberRole role = 4;
}

message CreateWorkspaceMemberResponse {
  bytes memberId = 2;
}

message UpdateWorkspaceMemberRequest {
  bytes memberId = 2;
  MemberRole role = 4;
}

message UpdateWorkspaceMemberResponse {}

message DeleteWorkspaceMemberRequest {
  bytes memberId = 2;
}

message DeleteWorkspaceMemberResponse {}

service WorkspaceService {
  rpc ListWorkspaces(google.protobuf.Empty) returns (ListWorkspacesResponse);
  rpc GetWorkspace(GetWorkspaceRequest) returns (GetWorkspaceResponse);
  rpc CreateWorkspace(CreateWorkspaceRequest) returns (CreateWorkspaceResponse);
  rpc UpdateWorkspace(UpdateWorkspaceRequest) returns (UpdateWorkspaceResponse);
  rpc DeleteWorkspace(DeleteWorkspaceRequest) returns (DeleteWorkspaceResponse);
  rpc SetWorkspaceEnvironment(SetWorkspaceEnvironmentRequest) returns (SetWorkspaceEnvironmentResponse);
  rpc ListWorkspaceMembers(ListWorkspaceMembersRequest) returns (ListWorkspaceMembersResponse);
  rpc CreateWorkspaceMember(CreateWorkspaceMemberRequest) returns (CreateWorkspaceMemberResponse);
  rpc UpdateWorkspaceMember(UpdateWorkspaceMemberRequest) returns (UpdateWorkspaceMemberResponse);
  rpc DeleteWorkspaceMember(DeleteWorkspaceMemberRequest) returns (DeleteWorkspaceMemberResponse);
}
