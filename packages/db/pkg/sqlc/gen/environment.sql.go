// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: environment.sql

package gen

import (
	"context"

	idwrap "the-dev-tools/server/pkg/idwrap"
)

const createEnvironment = `-- name: CreateEnvironment :exec
INSERT INTO
  environment (id, workspace_id, type, name, description, display_order)
VALUES
  (?, ?, ?, ?, ?, ?)
`

type CreateEnvironmentParams struct {
	ID           idwrap.IDWrap
	WorkspaceID  idwrap.IDWrap
	Type         int8
	Name         string
	Description  string
	DisplayOrder float64
}

func (q *Queries) CreateEnvironment(ctx context.Context, arg CreateEnvironmentParams) error {
	_, err := q.exec(ctx, q.createEnvironmentStmt, createEnvironment,
		arg.ID,
		arg.WorkspaceID,
		arg.Type,
		arg.Name,
		arg.Description,
		arg.DisplayOrder,
	)
	return err
}

const createVariable = `-- name: CreateVariable :exec
INSERT INTO
  variable (id, env_id, var_key, value, enabled, description, display_order)
VALUES
  (?, ?, ?, ?, ?, ?, ?)
`

type CreateVariableParams struct {
	ID           idwrap.IDWrap
	EnvID        idwrap.IDWrap
	VarKey       string
	Value        string
	Enabled      bool
	Description  string
	DisplayOrder float64
}

func (q *Queries) CreateVariable(ctx context.Context, arg CreateVariableParams) error {
	_, err := q.exec(ctx, q.createVariableStmt, createVariable,
		arg.ID,
		arg.EnvID,
		arg.VarKey,
		arg.Value,
		arg.Enabled,
		arg.Description,
		arg.DisplayOrder,
	)
	return err
}

const createVariableBulk = `-- name: CreateVariableBulk :exec
INSERT INTO
  variable (id, env_id, var_key, value, enabled, description, display_order)
VALUES
  (?, ?, ?, ?, ?, ?, ?),
  (?, ?, ?, ?, ?, ?, ?),
  (?, ?, ?, ?, ?, ?, ?),
  (?, ?, ?, ?, ?, ?, ?)
`

type CreateVariableBulkParams struct {
	ID             idwrap.IDWrap
	EnvID          idwrap.IDWrap
	VarKey         string
	Value          string
	Enabled        bool
	Description    string
	DisplayOrder   float64
	ID_2           idwrap.IDWrap
	EnvID_2        idwrap.IDWrap
	VarKey_2       string
	Value_2        string
	Enabled_2      bool
	Description_2  string
	DisplayOrder_2 float64
	ID_3           idwrap.IDWrap
	EnvID_3        idwrap.IDWrap
	VarKey_3       string
	Value_3        string
	Enabled_3      bool
	Description_3  string
	DisplayOrder_3 float64
	ID_4           idwrap.IDWrap
	EnvID_4        idwrap.IDWrap
	VarKey_4       string
	Value_4        string
	Enabled_4      bool
	Description_4  string
	DisplayOrder_4 float64
}

func (q *Queries) CreateVariableBulk(ctx context.Context, arg CreateVariableBulkParams) error {
	_, err := q.exec(ctx, q.createVariableBulkStmt, createVariableBulk,
		arg.ID,
		arg.EnvID,
		arg.VarKey,
		arg.Value,
		arg.Enabled,
		arg.Description,
		arg.DisplayOrder,
		arg.ID_2,
		arg.EnvID_2,
		arg.VarKey_2,
		arg.Value_2,
		arg.Enabled_2,
		arg.Description_2,
		arg.DisplayOrder_2,
		arg.ID_3,
		arg.EnvID_3,
		arg.VarKey_3,
		arg.Value_3,
		arg.Enabled_3,
		arg.Description_3,
		arg.DisplayOrder_3,
		arg.ID_4,
		arg.EnvID_4,
		arg.VarKey_4,
		arg.Value_4,
		arg.Enabled_4,
		arg.Description_4,
		arg.DisplayOrder_4,
	)
	return err
}

const deleteEnvironment = `-- name: DeleteEnvironment :exec
DELETE FROM environment
WHERE
  id = ?
`

func (q *Queries) DeleteEnvironment(ctx context.Context, id idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteEnvironmentStmt, deleteEnvironment, id)
	return err
}

const deleteVariable = `-- name: DeleteVariable :exec
DELETE FROM variable
WHERE
  id = ?
`

func (q *Queries) DeleteVariable(ctx context.Context, id idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteVariableStmt, deleteVariable, id)
	return err
}

const getEnvironment = `-- name: GetEnvironment :one
/*
* Environment
*/

SELECT
  id,
  workspace_id,
  type,
  name,
  description,
  display_order
FROM
  environment
WHERE
  id = ?
LIMIT 1
`

func (q *Queries) GetEnvironment(ctx context.Context, id idwrap.IDWrap) (Environment, error) {
	row := q.queryRow(ctx, q.getEnvironmentStmt, getEnvironment, id)
	var i Environment
	err := row.Scan(
		&i.ID,
		&i.WorkspaceID,
		&i.Type,
		&i.Name,
		&i.Description,
		&i.DisplayOrder,
	)
	return i, err
}

const getEnvironmentWorkspaceID = `-- name: GetEnvironmentWorkspaceID :one
SELECT
  workspace_id
FROM
  environment
WHERE
  id = ?
LIMIT
  1
`

func (q *Queries) GetEnvironmentWorkspaceID(ctx context.Context, id idwrap.IDWrap) (idwrap.IDWrap, error) {
	row := q.queryRow(ctx, q.getEnvironmentWorkspaceIDStmt, getEnvironmentWorkspaceID, id)
	var workspace_id idwrap.IDWrap
	err := row.Scan(&workspace_id)
	return workspace_id, err
}

const getEnvironmentsByWorkspaceID = `-- name: GetEnvironmentsByWorkspaceID :many
SELECT
  id,
  workspace_id,
  type,
  name,
  description,
  display_order
FROM
  environment
WHERE
  workspace_id = ?
ORDER BY
  display_order
`

func (q *Queries) GetEnvironmentsByWorkspaceID(ctx context.Context, workspaceID idwrap.IDWrap) ([]Environment, error) {
	rows, err := q.query(ctx, q.getEnvironmentsByWorkspaceIDStmt, getEnvironmentsByWorkspaceID, workspaceID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Environment{}
	for rows.Next() {
		var i Environment
		if err := rows.Scan(
			&i.ID,
			&i.WorkspaceID,
			&i.Type,
			&i.Name,
			&i.Description,
			&i.DisplayOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getEnvironmentsByWorkspaceIDOrdered = `-- name: GetEnvironmentsByWorkspaceIDOrdered :many
SELECT
  id,
  workspace_id,
  type,
  name,
  description,
  display_order
FROM
  environment
WHERE
  workspace_id = ?
ORDER BY
  display_order
`

func (q *Queries) GetEnvironmentsByWorkspaceIDOrdered(ctx context.Context, workspaceID idwrap.IDWrap) ([]Environment, error) {
	rows, err := q.query(ctx, q.getEnvironmentsByWorkspaceIDOrderedStmt, getEnvironmentsByWorkspaceIDOrdered, workspaceID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Environment{}
	for rows.Next() {
		var i Environment
		if err := rows.Scan(
			&i.ID,
			&i.WorkspaceID,
			&i.Type,
			&i.Name,
			&i.Description,
			&i.DisplayOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getVariable = `-- name: GetVariable :one
/*
* Variables
*/

SELECT
  id,
  env_id,
  var_key,
  value,
  enabled,
  description,
  display_order
FROM
  variable
WHERE
  id = ?
LIMIT 1
`

func (q *Queries) GetVariable(ctx context.Context, id idwrap.IDWrap) (Variable, error) {
	row := q.queryRow(ctx, q.getVariableStmt, getVariable, id)
	var i Variable
	err := row.Scan(
		&i.ID,
		&i.EnvID,
		&i.VarKey,
		&i.Value,
		&i.Enabled,
		&i.Description,
		&i.DisplayOrder,
	)
	return i, err
}

const getVariablesByEnvironmentID = `-- name: GetVariablesByEnvironmentID :many
SELECT
  id,
  env_id,
  var_key,
  value,
  enabled,
  description,
  display_order
FROM
  variable
WHERE
  env_id = ?
ORDER BY
  display_order
`

func (q *Queries) GetVariablesByEnvironmentID(ctx context.Context, envID idwrap.IDWrap) ([]Variable, error) {
	rows, err := q.query(ctx, q.getVariablesByEnvironmentIDStmt, getVariablesByEnvironmentID, envID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Variable{}
	for rows.Next() {
		var i Variable
		if err := rows.Scan(
			&i.ID,
			&i.EnvID,
			&i.VarKey,
			&i.Value,
			&i.Enabled,
			&i.Description,
			&i.DisplayOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getVariablesByEnvironmentIDOrdered = `-- name: GetVariablesByEnvironmentIDOrdered :many
SELECT
  id,
  env_id,
  var_key,
  value,
  enabled,
  description,
  display_order
FROM
  variable
WHERE
  env_id = ?
ORDER BY
  display_order
`

func (q *Queries) GetVariablesByEnvironmentIDOrdered(ctx context.Context, envID idwrap.IDWrap) ([]Variable, error) {
	rows, err := q.query(ctx, q.getVariablesByEnvironmentIDOrderedStmt, getVariablesByEnvironmentIDOrdered, envID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Variable{}
	for rows.Next() {
		var i Variable
		if err := rows.Scan(
			&i.ID,
			&i.EnvID,
			&i.VarKey,
			&i.Value,
			&i.Enabled,
			&i.Description,
			&i.DisplayOrder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateEnvironment = `-- name: UpdateEnvironment :exec
UPDATE environment
SET
    type = ?,
    name = ?,
    description = ?,
    display_order = ?
WHERE
    id = ?
`

type UpdateEnvironmentParams struct {
	Type         int8
	Name         string
	Description  string
	DisplayOrder float64
	ID           idwrap.IDWrap
}

func (q *Queries) UpdateEnvironment(ctx context.Context, arg UpdateEnvironmentParams) error {
	_, err := q.exec(ctx, q.updateEnvironmentStmt, updateEnvironment,
		arg.Type,
		arg.Name,
		arg.Description,
		arg.DisplayOrder,
		arg.ID,
	)
	return err
}

const updateVariable = `-- name: UpdateVariable :exec
UPDATE variable
SET
  var_key = ?,
  value = ?,
  enabled = ?,
  description = ?,
  display_order = ?
WHERE
  id = ?
`

type UpdateVariableParams struct {
	VarKey       string
	Value        string
	Enabled      bool
	Description  string
	DisplayOrder float64
	ID           idwrap.IDWrap
}

func (q *Queries) UpdateVariable(ctx context.Context, arg UpdateVariableParams) error {
	_, err := q.exec(ctx, q.updateVariableStmt, updateVariable,
		arg.VarKey,
		arg.Value,
		arg.Enabled,
		arg.Description,
		arg.DisplayOrder,
		arg.ID,
	)
	return err
}

const upsertVariable = `-- name: UpsertVariable :exec
INSERT INTO variable (id, env_id, var_key, value, enabled, description, display_order)
VALUES (?, ?, ?, ?, ?, ?, ?)
ON CONFLICT(env_id, var_key) DO UPDATE SET
    value = excluded.value,
    description = excluded.description
`

type UpsertVariableParams struct {
	ID           idwrap.IDWrap
	EnvID        idwrap.IDWrap
	VarKey       string
	Value        string
	Enabled      bool
	Description  string
	DisplayOrder float64
}

func (q *Queries) UpsertVariable(ctx context.Context, arg UpsertVariableParams) error {
	_, err := q.exec(ctx, q.upsertVariableStmt, upsertVariable,
		arg.ID,
		arg.EnvID,
		arg.VarKey,
		arg.Value,
		arg.Enabled,
		arg.Description,
		arg.DisplayOrder,
	)
	return err
}
