// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: ai.sql

package gen

import (
	"context"
	"database/sql"

	idwrap "github.com/the-dev-tools/dev-tools/packages/server/pkg/idwrap"
)

const createCredential = `-- name: CreateCredential :exec
INSERT INTO
  credential (id, workspace_id, name, kind)
VALUES
  (?, ?, ?, ?)
`

type CreateCredentialParams struct {
	ID          idwrap.IDWrap
	WorkspaceID idwrap.IDWrap
	Name        string
	Kind        int8
}

func (q *Queries) CreateCredential(ctx context.Context, arg CreateCredentialParams) error {
	_, err := q.exec(ctx, q.createCredentialStmt, createCredential,
		arg.ID,
		arg.WorkspaceID,
		arg.Name,
		arg.Kind,
	)
	return err
}

const createCredentialAnthropic = `-- name: CreateCredentialAnthropic :exec
INSERT INTO
  credential_anthropic (credential_id, api_key, base_url, encryption_type)
VALUES
  (?, ?, ?, ?)
`

type CreateCredentialAnthropicParams struct {
	CredentialID   idwrap.IDWrap
	ApiKey         []byte
	BaseUrl        sql.NullString
	EncryptionType int8
}

func (q *Queries) CreateCredentialAnthropic(ctx context.Context, arg CreateCredentialAnthropicParams) error {
	_, err := q.exec(ctx, q.createCredentialAnthropicStmt, createCredentialAnthropic,
		arg.CredentialID,
		arg.ApiKey,
		arg.BaseUrl,
		arg.EncryptionType,
	)
	return err
}

const createCredentialGemini = `-- name: CreateCredentialGemini :exec
INSERT INTO
  credential_gemini (credential_id, api_key, base_url, encryption_type)
VALUES
  (?, ?, ?, ?)
`

type CreateCredentialGeminiParams struct {
	CredentialID   idwrap.IDWrap
	ApiKey         []byte
	BaseUrl        sql.NullString
	EncryptionType int8
}

func (q *Queries) CreateCredentialGemini(ctx context.Context, arg CreateCredentialGeminiParams) error {
	_, err := q.exec(ctx, q.createCredentialGeminiStmt, createCredentialGemini,
		arg.CredentialID,
		arg.ApiKey,
		arg.BaseUrl,
		arg.EncryptionType,
	)
	return err
}

const createCredentialOpenAI = `-- name: CreateCredentialOpenAI :exec
INSERT INTO
  credential_openai (credential_id, token, base_url, encryption_type)
VALUES
  (?, ?, ?, ?)
`

type CreateCredentialOpenAIParams struct {
	CredentialID   idwrap.IDWrap
	Token          []byte
	BaseUrl        sql.NullString
	EncryptionType int8
}

func (q *Queries) CreateCredentialOpenAI(ctx context.Context, arg CreateCredentialOpenAIParams) error {
	_, err := q.exec(ctx, q.createCredentialOpenAIStmt, createCredentialOpenAI,
		arg.CredentialID,
		arg.Token,
		arg.BaseUrl,
		arg.EncryptionType,
	)
	return err
}

const createFlowNodeAI = `-- name: CreateFlowNodeAI :exec
INSERT INTO
  flow_node_ai (flow_node_id, model, credential_id, prompt, max_iterations)
VALUES
  (?, ?, ?, ?, ?)
`

type CreateFlowNodeAIParams struct {
	FlowNodeID    idwrap.IDWrap
	Model         int8
	CredentialID  []byte
	Prompt        string
	MaxIterations int32
}

func (q *Queries) CreateFlowNodeAI(ctx context.Context, arg CreateFlowNodeAIParams) error {
	_, err := q.exec(ctx, q.createFlowNodeAIStmt, createFlowNodeAI,
		arg.FlowNodeID,
		arg.Model,
		arg.CredentialID,
		arg.Prompt,
		arg.MaxIterations,
	)
	return err
}

const deleteCredential = `-- name: DeleteCredential :exec
DELETE FROM credential
WHERE
  id = ?
`

func (q *Queries) DeleteCredential(ctx context.Context, id idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteCredentialStmt, deleteCredential, id)
	return err
}

const deleteCredentialAnthropic = `-- name: DeleteCredentialAnthropic :exec
DELETE FROM credential_anthropic
WHERE
  credential_id = ?
`

func (q *Queries) DeleteCredentialAnthropic(ctx context.Context, credentialID idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteCredentialAnthropicStmt, deleteCredentialAnthropic, credentialID)
	return err
}

const deleteCredentialGemini = `-- name: DeleteCredentialGemini :exec
DELETE FROM credential_gemini
WHERE
  credential_id = ?
`

func (q *Queries) DeleteCredentialGemini(ctx context.Context, credentialID idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteCredentialGeminiStmt, deleteCredentialGemini, credentialID)
	return err
}

const deleteCredentialOpenAI = `-- name: DeleteCredentialOpenAI :exec
DELETE FROM credential_openai
WHERE
  credential_id = ?
`

func (q *Queries) DeleteCredentialOpenAI(ctx context.Context, credentialID idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteCredentialOpenAIStmt, deleteCredentialOpenAI, credentialID)
	return err
}

const deleteFlowNodeAI = `-- name: DeleteFlowNodeAI :exec
DELETE FROM flow_node_ai
WHERE
  flow_node_id = ?
`

func (q *Queries) DeleteFlowNodeAI(ctx context.Context, flowNodeID idwrap.IDWrap) error {
	_, err := q.exec(ctx, q.deleteFlowNodeAIStmt, deleteFlowNodeAI, flowNodeID)
	return err
}

const getCredential = `-- name: GetCredential :one
SELECT
  id,
  workspace_id,
  name,
  kind
FROM
  credential
WHERE
  id = ?
LIMIT 1
`

func (q *Queries) GetCredential(ctx context.Context, id idwrap.IDWrap) (Credential, error) {
	row := q.queryRow(ctx, q.getCredentialStmt, getCredential, id)
	var i Credential
	err := row.Scan(
		&i.ID,
		&i.WorkspaceID,
		&i.Name,
		&i.Kind,
	)
	return i, err
}

const getCredentialAnthropic = `-- name: GetCredentialAnthropic :one
SELECT
  credential_id,
  api_key,
  base_url,
  encryption_type
FROM
  credential_anthropic
WHERE
  credential_id = ?
LIMIT 1
`

func (q *Queries) GetCredentialAnthropic(ctx context.Context, credentialID idwrap.IDWrap) (CredentialAnthropic, error) {
	row := q.queryRow(ctx, q.getCredentialAnthropicStmt, getCredentialAnthropic, credentialID)
	var i CredentialAnthropic
	err := row.Scan(
		&i.CredentialID,
		&i.ApiKey,
		&i.BaseUrl,
		&i.EncryptionType,
	)
	return i, err
}

const getCredentialGemini = `-- name: GetCredentialGemini :one
SELECT
  credential_id,
  api_key,
  base_url,
  encryption_type
FROM
  credential_gemini
WHERE
  credential_id = ?
LIMIT 1
`

func (q *Queries) GetCredentialGemini(ctx context.Context, credentialID idwrap.IDWrap) (CredentialGemini, error) {
	row := q.queryRow(ctx, q.getCredentialGeminiStmt, getCredentialGemini, credentialID)
	var i CredentialGemini
	err := row.Scan(
		&i.CredentialID,
		&i.ApiKey,
		&i.BaseUrl,
		&i.EncryptionType,
	)
	return i, err
}

const getCredentialOpenAI = `-- name: GetCredentialOpenAI :one
SELECT
  credential_id,
  token,
  base_url,
  encryption_type
FROM
  credential_openai
WHERE
  credential_id = ?
LIMIT 1
`

func (q *Queries) GetCredentialOpenAI(ctx context.Context, credentialID idwrap.IDWrap) (CredentialOpenai, error) {
	row := q.queryRow(ctx, q.getCredentialOpenAIStmt, getCredentialOpenAI, credentialID)
	var i CredentialOpenai
	err := row.Scan(
		&i.CredentialID,
		&i.Token,
		&i.BaseUrl,
		&i.EncryptionType,
	)
	return i, err
}

const getCredentialsByWorkspaceID = `-- name: GetCredentialsByWorkspaceID :many
SELECT
  id,
  workspace_id,
  name,
  kind
FROM
  credential
WHERE
  workspace_id = ?
`

func (q *Queries) GetCredentialsByWorkspaceID(ctx context.Context, workspaceID idwrap.IDWrap) ([]Credential, error) {
	rows, err := q.query(ctx, q.getCredentialsByWorkspaceIDStmt, getCredentialsByWorkspaceID, workspaceID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Credential{}
	for rows.Next() {
		var i Credential
		if err := rows.Scan(
			&i.ID,
			&i.WorkspaceID,
			&i.Name,
			&i.Kind,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getFlowNodeAI = `-- name: GetFlowNodeAI :one
SELECT
  flow_node_id,
  model,
  credential_id,
  prompt,
  max_iterations
FROM
  flow_node_ai
WHERE
  flow_node_id = ?
LIMIT 1
`

func (q *Queries) GetFlowNodeAI(ctx context.Context, flowNodeID idwrap.IDWrap) (FlowNodeAi, error) {
	row := q.queryRow(ctx, q.getFlowNodeAIStmt, getFlowNodeAI, flowNodeID)
	var i FlowNodeAi
	err := row.Scan(
		&i.FlowNodeID,
		&i.Model,
		&i.CredentialID,
		&i.Prompt,
		&i.MaxIterations,
	)
	return i, err
}

const updateCredential = `-- name: UpdateCredential :exec
UPDATE credential
SET
  name = ?,
  kind = ?
WHERE
  id = ?
`

type UpdateCredentialParams struct {
	Name string
	Kind int8
	ID   idwrap.IDWrap
}

func (q *Queries) UpdateCredential(ctx context.Context, arg UpdateCredentialParams) error {
	_, err := q.exec(ctx, q.updateCredentialStmt, updateCredential, arg.Name, arg.Kind, arg.ID)
	return err
}

const updateCredentialAnthropic = `-- name: UpdateCredentialAnthropic :exec
UPDATE credential_anthropic
SET
  api_key = ?,
  base_url = ?,
  encryption_type = ?
WHERE
  credential_id = ?
`

type UpdateCredentialAnthropicParams struct {
	ApiKey         []byte
	BaseUrl        sql.NullString
	EncryptionType int8
	CredentialID   idwrap.IDWrap
}

func (q *Queries) UpdateCredentialAnthropic(ctx context.Context, arg UpdateCredentialAnthropicParams) error {
	_, err := q.exec(ctx, q.updateCredentialAnthropicStmt, updateCredentialAnthropic,
		arg.ApiKey,
		arg.BaseUrl,
		arg.EncryptionType,
		arg.CredentialID,
	)
	return err
}

const updateCredentialGemini = `-- name: UpdateCredentialGemini :exec
UPDATE credential_gemini
SET
  api_key = ?,
  base_url = ?,
  encryption_type = ?
WHERE
  credential_id = ?
`

type UpdateCredentialGeminiParams struct {
	ApiKey         []byte
	BaseUrl        sql.NullString
	EncryptionType int8
	CredentialID   idwrap.IDWrap
}

func (q *Queries) UpdateCredentialGemini(ctx context.Context, arg UpdateCredentialGeminiParams) error {
	_, err := q.exec(ctx, q.updateCredentialGeminiStmt, updateCredentialGemini,
		arg.ApiKey,
		arg.BaseUrl,
		arg.EncryptionType,
		arg.CredentialID,
	)
	return err
}

const updateCredentialOpenAI = `-- name: UpdateCredentialOpenAI :exec
UPDATE credential_openai
SET
  token = ?,
  base_url = ?,
  encryption_type = ?
WHERE
  credential_id = ?
`

type UpdateCredentialOpenAIParams struct {
	Token          []byte
	BaseUrl        sql.NullString
	EncryptionType int8
	CredentialID   idwrap.IDWrap
}

func (q *Queries) UpdateCredentialOpenAI(ctx context.Context, arg UpdateCredentialOpenAIParams) error {
	_, err := q.exec(ctx, q.updateCredentialOpenAIStmt, updateCredentialOpenAI,
		arg.Token,
		arg.BaseUrl,
		arg.EncryptionType,
		arg.CredentialID,
	)
	return err
}

const updateFlowNodeAI = `-- name: UpdateFlowNodeAI :exec
UPDATE flow_node_ai
SET
  model = ?,
  credential_id = ?,
  prompt = ?,
  max_iterations = ?
WHERE
  flow_node_id = ?
`

type UpdateFlowNodeAIParams struct {
	Model         int8
	CredentialID  []byte
	Prompt        string
	MaxIterations int32
	FlowNodeID    idwrap.IDWrap
}

func (q *Queries) UpdateFlowNodeAI(ctx context.Context, arg UpdateFlowNodeAIParams) error {
	_, err := q.exec(ctx, q.updateFlowNodeAIStmt, updateFlowNodeAI,
		arg.Model,
		arg.CredentialID,
		arg.Prompt,
		arg.MaxIterations,
		arg.FlowNodeID,
	)
	return err
}
